<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Naver Map Test</title>
    <style>
        body {
            margin: 0;
            background: #111;
            color: white;
            font-family: sans-serif;
            padding: 20px;
        }

        #map {
            width: 100%;
            height: 400px;
            border: 2px solid #818CF8;
            border-radius: 16px;
            margin-top: 20px;
        }

        #status {
            margin: 20px 0;
            padding: 16px;
            background: #222;
            border-radius: 12px;
        }

        .success {
            color: #4ade80;
        }

        .error {
            color: #f87171;
        }

        .info {
            color: #818CF8;
        }
    </style>
    <script>
        function log(msg, type) {
            type = type || 'info';
            var el = document.getElementById('status');
            if (el) el.innerHTML += '<p class="' + type + '">' + new Date().toLocaleTimeString() + ' - ' + msg + '</p>';
            console.log(msg);
        }

        function onNaverLoad() {
            log('âœ… Naver Maps ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì„±ê³µ!', 'success');

            if (window.naver && window.naver.maps) {
                log('âœ… naver.maps ê°ì²´ í™•ì¸ë¨!', 'success');

                try {
                    var map = new naver.maps.Map('map', {
                        center: new naver.maps.LatLng(37.5445, 127.0561),
                        zoom: 15
                    });
                    log('âœ… ì§€ë„ ìƒì„± ì„±ê³µ! ì§€ë„ê°€ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.', 'success');

                    new naver.maps.Marker({
                        position: new naver.maps.LatLng(37.5445, 127.0561),
                        map: map
                    });
                    log('âœ… ë§ˆì»¤ ìƒì„± ì„±ê³µ!', 'success');
                } catch (e) {
                    log('âŒ ì§€ë„ ìƒì„± ì—ëŸ¬: ' + e.message, 'error');
                }
            } else {
                log('âŒ naver.maps ê°ì²´ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
            }
        }

        function onNaverError() {
            log('âŒ Naver Maps ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨! ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” Client ID í™•ì¸ í•„ìš”', 'error');
        }
    </script>
</head>

<body>
    <h1>ğŸ—ºï¸ Naver Maps API í…ŒìŠ¤íŠ¸</h1>
    <div id="status"></div>
    <div id="map"></div>

    <script>
        log('1ë‹¨ê³„: í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
        log('2ë‹¨ê³„: í˜„ì¬ URL â†’ ' + window.location.href);
        log('3ë‹¨ê³„: Naver Maps ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì‹œì‘...');
    </script>

    <script src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=es44ukji8l" onload="onNaverLoad()"
        onerror="onNaverError()"></script>

    <script>
        // 5ì´ˆ í›„ì—ë„ ë¡œë“œë˜ì§€ ì•Šìœ¼ë©´ íƒ€ì„ì•„ì›ƒ
        setTimeout(function () {
            if (!window.naver || !window.naver.maps) {
                log('âš ï¸ 5ì´ˆ íƒ€ì„ì•„ì›ƒ: ìŠ¤í¬ë¦½íŠ¸ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.', 'error');
                log('ğŸ‘‰ ë¸Œë¼ìš°ì € F12 â†’ Console íƒ­ì—ì„œ ë¹¨ê°„ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”!', 'error');
                log('ğŸ‘‰ íŠ¹íˆ "Authentication failed" ë˜ëŠ” "Forbidden" ë©”ì‹œì§€ê°€ ìˆëŠ”ì§€ í™•ì¸!', 'error');
            }
        }, 5000);
    </script>
</body>

</html>